<!doctype html>
<head>
<%- include('template/header') %>

</head>
<html>
    <%- include('template/navebar') %>
        <div class="container mx-auto" style="margin: auto; max-width: 60rem">
        <h1>分類專區</h1>
        <% if (username) { %>
        <%= errMessage %>
        <form method='POST' action='/category/list'>
        <div class="input-group mb-3">
            <input type="text" class="form-control" placeholder="請輸入分類名稱" aria-label="Recipient's username" aria-describedby="button-addon2" name='name'>
            <div class="input-group-append">
                <button class="btn btn-outline-secondary" type="submit" id="button-addon2">新增</button>
            </div>
        </div>
        </form>
        <% } %>
        <ul class="list-group">
            <% for (category of categories) { %>
                <li class="list-group-item d-flex justify-content-between">
                    <div>
                        <%= category.name %>
                        <a class="btn btn-outline-info btn-sm" href="/category/item/<%= category.id %>">看全部文章</a>
                    </div>
                    <div>
                        <% if (username && category.id !== 0) { %>
                            <a class="btn btn-outline-primary btn-sm" href="/category/update/<%= category.id %>">編輯</a>
                            <a class="btn btn-outline-danger btn-sm" href="/category/delete/<%= category.id %>">刪除</a>
                        <% } %>
                    </div>
                </li>
            <% } %>
            </ul>
        </div>
    </div>
<html>